@page "/"
@inject IConfiguration _config

<PageTitle>Index</PageTitle>

<h1>Hello, world!</h1>

<p>
    MySetting Value: @mySetting
</p>
<p>
    SubSetting Value: @subSetting
</p>
<p>
    SubSubSetting Value: @subSubSetting
</p>
<p>
    Connection String: @connectionString
</p>
<p>
    User Name: @userName
</p>
<p>
    User Password: @userPw
</p>

@code {
    string mySetting = "";
    string subSetting = "";
    string subSubSetting = "";
    string connectionString = "";
    string userName = "";
    string userPw = "";

    protected override void OnInitialized()
    {
        mySetting = _config.GetValue<string>("MySetting");
        subSetting = _config.GetValue<string>("MainSetting:SubSetting");
        subSubSetting = _config.GetValue<string>("MainSetting:SubSection:SubSubSetting");
        connectionString = _config.GetConnectionString("Default");
        userName = _config.GetValue<string>("SmtpKeys:UserName");
        userPw = _config.GetValue<string>("SmtpKeys:UserPw");
    }
}

